<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <script>
      async function upload() {
        const fileInput = document.getElementById("image");
        const file = fileInput.files[0];
        if (!file) return;

        const form = new FormData();
        form.append("image", file);        // field name = "image"
        form.append("type", "cover");      // optional extra fields
        form.append("game_id", 42);

        const res = await fetch("/api/media?game=1&location=card", {
          method: "POST",
          body: file,                      // IMPORTANT: no Content-Type header
        });

        console.log(await res.text());
      }
    </script>
  </head>
  <body>
    <input type="file" id="image" accept="image/*" />
    <button onclick="upload()">Upload</button> 
  </body>
</html>
